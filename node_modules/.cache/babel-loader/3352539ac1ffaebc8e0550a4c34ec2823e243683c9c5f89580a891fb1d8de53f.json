{"ast":null,"code":"var _jsxFileName = \"D:\\\\MERN Stack Project\\\\CouchSurfConnect\\\\client\\\\src\\\\components\\\\addRoom\\\\addImages\\\\progressList\\\\ProgressItem.js\",\n  _s = $RefreshSig$();\nimport { CheckCircleOutline } from '@mui/icons-material';\nimport { Box, ImageListItem } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport CircularProgressWithLabel from './CircularProgressWithLabel';\nimport { v4 as uuidv4 } from 'uuid';\nimport uploadFileProgress from '../../../../firebase/uploadFileProgress';\nimport { useValue } from '../../../../context/ContextProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProgressItem = ({\n  file\n}) => {\n  _s();\n  const [progress, setProgress] = useState(0);\n  const [imageURL, setImageURL] = useState(null);\n  const {\n    state: {\n      currentUser\n    },\n    dispatch\n  } = useValue();\n  useEffect(() => {\n    const uploadImage = async () => {\n      const imageName = uuidv4() + '.' + file.name.split('.').pop();\n      try {\n        const url = await uploadFileProgress(file, `rooms/${currentUser === null || currentUser === void 0 ? void 0 : currentUser.result.id}`, imageName, setProgress);\n        dispatch({\n          type: 'UPDATE_IMAGES',\n          payload: url\n        });\n        setImageURL(null);\n      } catch (error) {\n        dispatch({\n          type: 'UPDATE_ALERT',\n          payload: {\n            open: true,\n            severity: 'error',\n            message: error.message\n          }\n        });\n        console.log(error);\n      }\n    };\n    setImageURL(URL.createObjectURL(file));\n    uploadImage();\n  }, [currentUser === null || currentUser === void 0 ? void 0 : currentUser.result.id, dispatch, file]);\n  return imageURL && /*#__PURE__*/_jsxDEV(ImageListItem, {\n    cols: 1,\n    rows: 1,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageURL,\n      alt: \"gallery\",\n      loading: \"lazy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: backDrop,\n      children: progress < 100 ? /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n        value: progress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(CheckCircleOutline, {\n        sx: {\n          width: 60,\n          height: 60,\n          color: 'lightgreen'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 7\n  }, this);\n};\n_s(ProgressItem, \"HgD1Di/sOeU8DCCZOoYrQvoM5CI=\", false, function () {\n  return [useValue];\n});\n_c = ProgressItem;\nexport default ProgressItem;\nconst backDrop = {\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  background: 'rgba(0,0,0, .5)'\n};\nvar _c;\n$RefreshReg$(_c, \"ProgressItem\");","map":{"version":3,"names":["CheckCircleOutline","Box","ImageListItem","React","useEffect","useState","CircularProgressWithLabel","v4","uuidv4","uploadFileProgress","useValue","jsxDEV","_jsxDEV","ProgressItem","file","_s","progress","setProgress","imageURL","setImageURL","state","currentUser","dispatch","uploadImage","imageName","name","split","pop","url","result","id","type","payload","error","open","severity","message","console","log","URL","createObjectURL","cols","rows","children","src","alt","loading","fileName","_jsxFileName","lineNumber","columnNumber","sx","backDrop","value","width","height","color","_c","position","top","right","bottom","left","display","alignItems","justifyContent","background","$RefreshReg$"],"sources":["D:/MERN Stack Project/CouchSurfConnect/client/src/components/addRoom/addImages/progressList/ProgressItem.js"],"sourcesContent":["import { CheckCircleOutline } from '@mui/icons-material';\r\nimport { Box, ImageListItem } from '@mui/material';\r\nimport React, { useEffect, useState } from 'react';\r\nimport CircularProgressWithLabel from './CircularProgressWithLabel';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport uploadFileProgress from '../../../../firebase/uploadFileProgress';\r\nimport { useValue } from '../../../../context/ContextProvider';\r\n\r\nconst ProgressItem = ({ file }) => {\r\n  const [progress, setProgress] = useState(0);\r\n  const [imageURL, setImageURL] = useState(null);\r\n  const {\r\n    state: { currentUser },\r\n    dispatch,\r\n  } = useValue();\r\n  useEffect(() => {\r\n    const uploadImage = async () => {\r\n      const imageName = uuidv4() + '.' + file.name.split('.').pop();\r\n      try {\r\n        const url = await uploadFileProgress(\r\n          file,\r\n          `rooms/${currentUser?.result.id}`,\r\n          imageName,\r\n          setProgress\r\n        );\r\n\r\n        dispatch({ type: 'UPDATE_IMAGES', payload: url });\r\n        setImageURL(null);\r\n      } catch (error) {\r\n        dispatch({\r\n          type: 'UPDATE_ALERT',\r\n          payload: { open: true, severity: 'error', message: error.message },\r\n        });\r\n        console.log(error);\r\n      }\r\n    };\r\n    setImageURL(URL.createObjectURL(file));\r\n    uploadImage();\r\n  }, [currentUser?.result.id, dispatch, file]);\r\n  return (\r\n    imageURL && (\r\n      <ImageListItem cols={1} rows={1}>\r\n        <img src={imageURL} alt=\"gallery\" loading=\"lazy\" />\r\n        <Box sx={backDrop}>\r\n          {progress < 100 ? (\r\n            <CircularProgressWithLabel value={progress} />\r\n          ) : (\r\n            <CheckCircleOutline\r\n              sx={{ width: 60, height: 60, color: 'lightgreen' }}\r\n            />\r\n          )}\r\n        </Box>\r\n      </ImageListItem>\r\n    )\r\n  );\r\n};\r\n\r\nexport default ProgressItem;\r\n\r\nconst backDrop = {\r\n  position: 'absolute',\r\n  top: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  left: 0,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  background: 'rgba(0,0,0, .5)',\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}