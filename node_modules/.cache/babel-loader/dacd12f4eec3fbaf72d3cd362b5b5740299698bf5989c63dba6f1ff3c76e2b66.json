{"ast":null,"code":"var _jsxFileName = \"D:\\\\MERN Stack Project\\\\CouchSurfConnect\\\\client\\\\src\\\\components\\\\user\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useRef } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, TextField, Button, Avatar } from '@mui/material';\nimport { Send, Close } from '@mui/icons-material';\nimport { useValue } from '../../context/ContextProvider';\nimport { updateProfile } from '../../actions/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    state: {\n      profile,\n      currentUser\n    },\n    dispatch\n  } = useValue();\n  const nameRef = useRef();\n  const emailRef = useRef();\n  const handleClose = () => {\n    dispatch({\n      type: 'CLOSE_PROFILE',\n      payload: {\n        ...profile,\n        open: false\n      }\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const name = nameRef.current.value;\n    updateProfile(currentUser, {\n      name,\n      file: profile.file\n    }, dispatch);\n    //pass user name and photo to the to new function in user actions\n  };\n  const handleChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const photoURL = URL.createObjectURL(file);\n      dispatch({\n        type: 'UPDATE_PROFILE',\n        payload: {\n          ...profile,\n          photoURL,\n          file\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: profile.open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [\"Profile\", /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        sx: {\n          position: 'absolute',\n          top: 8,\n          right: 8,\n          color: theme => theme.palette.grey[500]\n        },\n        onClick: handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"You can update your profile here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"normal\",\n          variant: \"standard\",\n          id: \"name\",\n          label: \"Name\",\n          type: \"text\",\n          fullWidth: true,\n          inputRef: nameRef,\n          inputProps: {\n            minLength: 2\n          },\n          required: true,\n          defaultValue: currentUser === null || currentUser === void 0 ? void 0 : currentUser.result.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"profilePhoto\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"image/*\",\n            type: \"file\",\n            id: \"profilePhoto\",\n            style: {\n              display: 'none'\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n            src: profile.photoURL,\n            sx: {\n              width: 75,\n              height: 75,\n              cursor: 'pointer'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            component: \"span\",\n            children: \"Upload a profile photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          px: '19px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          endIcon: /*#__PURE__*/_jsxDEV(Send, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 68\n          }, this),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"4poeAJzdd1ku2Tn/FO3OVaQYm9w=\", false, function () {\n  return [useValue];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useRef","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","TextField","Button","Avatar","Send","Close","useValue","updateProfile","jsxDEV","_jsxDEV","Profile","_s","state","profile","currentUser","dispatch","nameRef","emailRef","handleClose","type","payload","open","handleSubmit","e","preventDefault","name","current","value","file","handleChange","target","files","photoURL","URL","createObjectURL","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","sx","position","top","right","color","theme","palette","grey","onClick","onSubmit","dividers","autoFocus","margin","variant","id","label","fullWidth","inputRef","inputProps","minLength","required","defaultValue","result","htmlFor","accept","style","display","onChange","src","width","height","cursor","component","px","endIcon","_c","$RefreshReg$"],"sources":["D:/MERN Stack Project/CouchSurfConnect/client/src/components/user/Profile.js"],"sourcesContent":["import React from 'react'\r\nimport { useRef } from 'react';\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, TextField, Button, Avatar } from '@mui/material';\r\nimport { Send, Close } from '@mui/icons-material';\r\nimport { useValue } from '../../context/ContextProvider';\r\nimport { updateProfile } from '../../actions/user';\r\nconst Profile = () => {\r\n    const {state:{profile,currentUser},dispatch}=useValue();\r\n     \r\n    const nameRef=useRef();\r\n    const emailRef=useRef();\r\n    const handleClose=()=>{\r\n        dispatch({\r\n            type:'CLOSE_PROFILE'\r\n        ,payload:{...profile,open:false}});\r\n    }\r\n\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const name=nameRef.current.value;\r\n        \r\n        updateProfile(currentUser,{name, file:profile.file},dispatch);\r\n        //pass user name and photo to the to new function in user actions\r\n\r\n    }\r\n\r\n    const handleChange=(e)=>{\r\n        const file=e.target.files[0];\r\n        if(file){\r\n            const photoURL=URL.createObjectURL(file);\r\n            dispatch({type:'UPDATE_PROFILE',payload:{...profile,photoURL,file}});\r\n            \r\n        }\r\n    }\r\n    return (\r\n    <Dialog\r\n        open={profile.open}\r\n        onClose={handleClose}>\r\n        <DialogTitle>Profile\r\n            <Close/>\r\n            <IconButton sx={{position:'absolute',top:8,right:8, color:(theme)=>theme.palette.grey[500]}} onClick={handleClose}/>\r\n        </DialogTitle>\r\n        <form onSubmit={handleSubmit}>\r\n            <DialogContent dividers>\r\n                <DialogContentText>\r\n                    You can update your profile here\r\n                </DialogContentText>\r\n                \r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"normal\"\r\n                    variant=\"standard\"\r\n                    id=\"name\"\r\n                    label=\"Name\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    inputRef={nameRef}\r\n                    inputProps={{minLength:2}}\r\n                    required\r\n                    defaultValue={currentUser?.result.name}\r\n                    />\r\n                    <label htmlFor='profilePhoto'>\r\n                        <input accept='image/*' type='file' id='profilePhoto' style={{display:'none'}} onChange={handleChange}/>\r\n                        <Avatar src={profile.photoURL} sx={{width:75,height:75,cursor:'pointer'}}/>\r\n                        <Button variant='outlined' component='span'>\r\n                            Upload a profile photo\r\n                        </Button>\r\n                    </label>\r\n            </DialogContent>\r\n            <DialogActions sx={{px:'19px'}}>\r\n                <Button type=\"submit\" variant=\"contained\" endIcon={<Send/>}>\r\n                    Update\r\n                </Button>\r\n            </DialogActions>\r\n        </form>\r\n        {/* <DialogActions sx={{justifyContent:'left', p:'5px 24px'}}>\r\n                {isRegister ? 'Do you have an account? Sign in now': \"Don't have an account? Register now\"}\r\n                <Button onClick={()=>setIsRegister(!isRegister)}>\r\n                    {isRegister ? 'Login': 'Register'}\r\n                </Button>\r\n        </DialogActions>\r\n        <DialogActions sx={{justifyContent:'center', py:'24px'}}>\r\n            <GoogleOneTapLogin/>\r\n        </DialogActions> */}\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}